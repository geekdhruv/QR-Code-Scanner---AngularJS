<div class="simple-scanner">
  <!-- Permission Request -->
  <div *ngIf="permissionError" class="permission-request mb-6">
    <i class="fas fa-camera"></i>
    <h3 class="text-lg font-semibold mb-2">Camera Permission Required</h3>
    <p class="mb-4">This app needs access to your camera to scan QR codes.</p>
    <button class="btn btn-primary" (click)="requestPermission()">
      <i class="fas fa-key"></i> Grant Permission
    </button>
  </div>

  <!-- Scanner Component -->
  <div *ngIf="hasPermission" class="scanner-container">
    <video id="scanner-video" autoplay playsinline muted class="scanner-video"></video>
    <canvas id="scanner-canvas" style="display: none;"></canvas>
    
    <!-- Scanner Overlay -->
    <div class="scanner-overlay">
      <div class="scanner-frame">
        <div class="scanning-indicator">
          <div class="scan-line"></div>
        </div>
      </div>
    </div>

    <!-- Start/Stop Button -->
    <div class="scanner-controls">
      <button 
        *ngIf="!isScanning" 
        class="btn btn-primary" 
        (click)="startScanning()">
        <i class="fas fa-play"></i> Start Scanning
      </button>
      <button 
        *ngIf="isScanning" 
        class="btn btn-danger" 
        (click)="stopScanning()">
        <i class="fas fa-stop"></i> Stop Scanning
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="!hasPermission && !permissionError" class="text-center p-8">
    <div class="spinner mb-4"></div>
    <p class="text-gray-600">Initializing scanner...</p>
  </div>

  <!-- Info Notice -->
  <div *ngIf="hasPermission" class="mt-4 p-4 bg-green-50 border border-green-200 rounded-lg">
    <div class="flex items-center">
      <i class="fas fa-check-circle text-green-600 mr-2"></i>
      <span class="text-sm text-green-800">
        <strong>Ready to Scan:</strong> Point your camera at a QR code and click "Start Scanning". The app will automatically detect and process the QR code content.
      </span>
    </div>
  </div>
</div>
